@page "/weather/detail/{id}"

@using MudCompositeApp.Composites
@inherits MudComposite.ViewComponents.MudDetailViewComponent<WeatherForecast, MudCompositeApp.Composites.IWeatherDetailComposite>

<MudContainer>
    <MudPaper>
        <MudText>@this.ViewModel..Id</MudText>
        <MudNumericField T="int" Label="Temperature" Value="@ViewModel.SelectedItem.TemperatureC"/>
    </MudPaper>
    <MudButton OnClick="this.Summit">Summit</MudButton>
    <MudButton OnClick="this.Cancel">Go Back</MudButton>
</MudContainer>

@code {
    [Parameter] public int Id { get; set; }

    protected override void OnParametersSet()
    {
        this.Parameter = new()
        {
            Id = Id
        };
    }

    protected override void OnViewInitialized()
    {
        this.ViewModel.Initialize();
    }

    protected override async Task OnViewAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await this.Retrieve();
        }
    }

}